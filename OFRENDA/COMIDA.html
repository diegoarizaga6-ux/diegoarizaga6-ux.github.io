<!DOCTYPE html>
<html lang="en">
<head>
    <title>Comida</title>
</head>
<body>
   
<canvas id="myCanvas">
    <!--El elemento HTML canvas se puede utilizar para dibujar gráficos a través de
        secuencias de comandos (por lo general JavaScript ).-->
</canvas>
 
<!-- Aquí va todo el código de three.js -->
<!-- script type="importmap" importa las librerías necesarias para three.js-->
<script src="./font/01.js"></script>  
<script src="./font/02.js"></script> 
<script type="importmap">
    {
        "imports":{
            "three": "./js/three.module.js",
            "three/OrbitControls": "./js/OrbitControls.js"
        }
}
</script>
<script type="module">
//🗃️🗃️ Mandar llamar a la librería
    import * as THREE from 'three';
    import {OrbitControls} from 'three/OrbitControls';
    import {RoundedBoxGeometry} from "./js/RoundedBoxGeometry.js" 
    console.log(OrbitControls);


    import{TextGeometry} from "./js/TextGeometry.js";
    import{FontLoader} from "./js/FontLoader.js"; 

 
//🕹️🕹️ Renderer - Realiza una conexión entre el código y el canvas
    var renderer = new THREE.WebGLRenderer({
    canvas: document.getElementById('myCanvas'), antialias: true,
    });
    renderer.setPixelRatio(window.decivePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x8A217C);
 
 
// 🎬 Creando nueva escena - Es el espacio donde se colocan los objetos
    var scene = new THREE.Scene();
 
//🎥🎥 Agregar una cámara de perspectiva
    var camera = new THREE.PerspectiveCamera(70,window.innerWidth / window.innerHeight,0.1,2000
      );
    scene.add(camera);
 
    //Settings de la cámara
    camera.position.set(0, 4, 80);
 
    // Añadiendo los OrbitControls
    var controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
 
        var gridHelper = new THREE.GridHelper (50,50,205,1);
        scene.add (gridHelper);

//  comienza codigo Espacio para colocar los objetos
   
    //3d box base
var geometry1 = new THREE.BoxGeometry(100,0.5,100);
    var material01 = new THREE.MeshLambertMaterial({
        color: 0xD96A1A
    });  
    var mesh01 = new THREE.Mesh(geometry1, material01);
    mesh01.position.set(0, 0, 0);
    scene.add(mesh01);
  mesh01.receiveShadow= true;

  // 🔑 activar sombras
   // var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(70,window.innerWidth / window.innerHeight,0.1,2000);
    scene.add(camera);
    camera.position.set(0, 4, 10);

    var controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;

    // suelo
    var geometry09 = new THREE.PlaneGeometry (80,80,80,80);
    var material09 = new THREE.MeshLambertMaterial({color:0x684EDE, side: THREE.DoubleSide});
    var mesh09 = new THREE.Mesh(geometry09,material09);
    scene.add(mesh09);
    mesh09.rotation.set(1.5708,0,0);
    mesh09.position.y = 0;
    mesh09.receiveShadow = true;

  ///creacion de objetos

 //Atole


// GRUPO COMIDA
var comida = new THREE.Group();

// cuerpo del plato
var geometry06 = new THREE.CylinderGeometry(4,2.3,3.2,30);
var material06 = new THREE.MeshLambertMaterial({ color: 0x6E2C05 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,5,4);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// Plano de arriba del plato
var geometry06 = new THREE.CylinderGeometry(4.5,.1,3.6,30);
var material06 = new THREE.MeshLambertMaterial({ color: 0xA14713 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,5.1,4);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// caldo
var geometry06 = new THREE.CylinderGeometry(4,1,3.2,30);
var material06 = new THREE.MeshLambertMaterial({ color: 0xDE5404 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,5.4,4);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// garbanzos
var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xE3A302 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,7,4);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xC7421C });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,7,7);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0x4DB336 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(6.2,7,2);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xE3A302 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,7,1);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xC7421C });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(1,7,3);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xE3A302 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(5.6,7,7.3);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0xC7421C });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(7,7,5);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,4);
var material06 = new THREE.MeshLambertMaterial({ color: 0x4DB336 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(3,7,5);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.5,.5,.5,2,8);
var material06 = new THREE.MeshLambertMaterial({ color: 0x4DB336 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(2.1,7,7);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// carne
var geometry06 = new RoundedBoxGeometry(2,1.5,1.5,2,.7);
var material06 = new THREE.MeshLambertMaterial({ color: 0xEB7D00 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(4,7,6);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// hueso tallo
var geometry06 = new RoundedBoxGeometry(2.3,.7,.7,4,8);
var material06 = new THREE.MeshLambertMaterial({ color: 0xFAF4F0 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(5,7,6);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// hueso bolitas
var geometry06 = new RoundedBoxGeometry(.7,.7,.7,4,8);
var material06 = new THREE.MeshLambertMaterial({ color: 0xFAF4F0 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(6,7,6.3);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

var geometry06 = new RoundedBoxGeometry(.7,.7,.7,4,8);
var material06 = new THREE.MeshLambertMaterial({ color: 0xFAF4F0 });
var mesh06 = new THREE.Mesh(geometry06, material06);
mesh06.position.set(6,7,5.6);
mesh06.rotation.set(0,0,0);
mesh06.castShadow = true;
comida.add(mesh06);

// Añadir el grupo a la escena
scene.add(comida);

//🎰🎰Rendering y animación
    requestAnimationFrame(render);
    function render() {
// flor1.rotation.x +=0.01;
//  flor2.rotation.y +=0.01;
//   flor3.rotation.z +=0.01;
    //🪄🪄 Animación -
//mesh02.rotation.z +=0.01;
//mesh03.rotation.z-=0.01;
    //🎮🎮Actualización del OrbitControls para generar la suavidad de movimiento
    controls.update();
 
    //Llamado para renderizar y volver a llamar a la misma función (render)
    renderer.render(scene, camera);
    requestAnimationFrame(render);
    }




    


</script>
</body>
</html>